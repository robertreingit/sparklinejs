var sparkline=function(){"use strict";function t(t){var r=document.createElementNS(a,t);return r}function r(t,r){for(name in r)t.setAttribute(name,r[name])}function n(n,e,a,h){var d;if("string"==typeof n){if(d=document.querySelector(n),!d)throw Error("Couldn't find "+n)}else d=n;var s=e.length;if(!s)throw Error("No data provided.");var v=c(d),g=2,m=v*g,y=2,w=t("svg");r(w,{width:m,height:v}),d.appendChild(w);var A=o(0,s-1,y,m-y),M=o(u(e),l(e),v-y,y),b=A(p(s)),C=M(e),E=i(b,C),S=f(e),q=A([0,s-1,s-1,0]),k=M([S[1],S[1],S[0],S[0]]),x=i(q,k);x+="Z";var I=t("path");r(I,{d:x,"class":"quartile"}),w.appendChild(I);var N=t("path");if(r(N,{d:E}),w.appendChild(N),"no"!==a){var z=a||s-1,F=t("circle");r(F,{cx:b[z],cy:C[z],r:2}),w.appendChild(F)}}function e(){var t=document.querySelectorAll("span.spark");Array.prototype.forEach.call(t,function(t){var r=t.getAttribute("data").split(",").map(function(t){return parseFloat(t)}),e=(r.length,t.getAttribute("data-quartile"),t.getAttribute("data-highlight"));if(null===e)e=r.lenght-1;else if("no"!==e&&(e=parseInt(e,10),0>e||e>=r.length))throw Error("Highlight index out of bounds");n(t,r,e)})}var a="http://www.w3.org/2000/svg",o=function(t,r,n,e){function a(a){return(a-t)/(r-t)*(e-n)+n}return function(t){return Array.isArray(t)?t.map(function(t){return a(t)}):a(t)}},i=function(t,r){var n="M";return n+=t[0]+","+r[0],n+=r.slice(1).reduce(function(r,n,e){return r+"L"+t[e+1]+","+n},"")},u=function(t){return Math.min.apply(null,t)},l=function(t){return Math.max.apply(null,t)},c=function(t){var r=window.getComputedStyle(t,null);return parseInt(r.fontSize,10)||18},f=function(t){var r,n,e=t.slice().sort(function(t,r){return t-r}),a=e.length;return a%2?(r=Math.floor((a+3)/4),n=Math.floor((3*a+3)/4)):(r=Math.floor((a+2)/4),n=Math.floor((3*a+2)/4)),[e[r],e[n]]},p=function(t){for(var r=[],n=0;t>n;n+=1)r.push(n);return r};return{spark:n,bootstrap:e}}();