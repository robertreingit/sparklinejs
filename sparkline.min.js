var sparkline=function(){"use strict";function t(t){var r=document.createElementNS(a,t);return r}function r(t,r){for(name in r)t.setAttribute(name,r[name])}function n(n,e,a,h){var d;if("string"==typeof n){if(d=document.querySelector(n),!d)throw Error("Couldn't find "+n)}else d=n;var s=h||!1,v=e.length;if(!v)throw Error("No data provided.");var g=f(d),m=2,y=g*m,w=2,A=t("svg");r(A,{width:y,height:g}),d.appendChild(A);var M=o(0,v-1,w,y-w),b=o(u(e),l(e),g-w,w),C=M(p(v)),E=b(e),S=i(C,E);if(s){var q=c(e),k=M([0,v-1,v-1,0]),x=b([q[1],q[1],q[0],q[0]]),I=i(k,x);I+="Z";var N=t("path");r(N,{d:I,"class":"quartile"}),A.appendChild(N)}var z=t("path");if(r(z,{d:S}),A.appendChild(z),"no"!==a){var F=a||v-1,H=t("circle");r(H,{cx:C[F],cy:E[F],r:2}),A.appendChild(H)}}function e(){var t=document.querySelectorAll("span.spark");Array.prototype.forEach.call(t,function(t){var r=t.getAttribute("data").split(",").map(function(t){return parseFloat(t)}),e=(r.length,"data-quartile"in t.attributes),a=t.getAttribute("data-highlight");if(null===a)a=r.lenght-1;else if("no"!==a&&(a=parseInt(a,10),0>a||a>=r.length))throw Error("Highlight index out of bounds");n(t,r,a,e)})}var a="http://www.w3.org/2000/svg",o=function(t,r,n,e){function a(a){return(a-t)/(r-t)*(e-n)+n}return function(t){return Array.isArray(t)?t.map(function(t){return a(t)}):a(t)}},i=function(t,r){var n="M";return n+=t[0]+","+r[0],n+=r.slice(1).reduce(function(r,n,e){return r+"L"+t[e+1]+","+n},"")},u=function(t){return Math.min.apply(null,t)},l=function(t){return Math.max.apply(null,t)},f=function(t){var r=window.getComputedStyle(t,null);return parseInt(r.fontSize,10)||18},c=function(t){var r,n,e=t.slice().sort(function(t,r){return t-r}),a=e.length;return a%2?(r=Math.floor((a+3)/4),n=Math.floor((3*a+3)/4)):(r=Math.floor((a+2)/4),n=Math.floor((3*a+2)/4)),[e[r],e[n]]},p=function(t){for(var r=[],n=0;t>n;n+=1)r.push(n);return r};return{spark:n,bootstrap:e}}();